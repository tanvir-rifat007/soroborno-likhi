(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const p of a.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&i(p)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();let r=[],d=[],y=[],l;const E={a:"অ",b:"আ",c:"ই",d:"ঈ",e:"উ",f:"ঊ",g:"ঋ",h:"এ",i:"ঐ",j:"ও",k:"ঔ"},o=document.getElementsByTagName("canvas")[0],c=o.getContext("2d"),g=document.getElementById("download-link"),w=()=>{r=[],d=[],y=[],l=!1},T=e=>{const t=E[e],n=document.getElementsByClassName("prediction")[0];return n.textContent=t,t},f=(e,t,n)=>{r.push(e),d.push(t),y.push(n)},h=()=>{c.clearRect(0,0,c.canvas.width,c.canvas.height),c.strokeStyle="#000000",c.lineJoin="round",c.lineWidth=5,c.fillStyle="#ffffff",c.fillRect(0,0,o.width,o.height);for(let e=0;e<r.length;e++)c.beginPath(),y[e]&&e?c.moveTo(r[e-1],d[e-1]):c.moveTo(r[e]-1,d[e]),c.lineTo(r[e],d[e]),c.closePath(),c.stroke()},L=(e,t)=>{const n=e.getBoundingClientRect();return{x:t.touches[0].clientX-n.left,y:t.touches[0].clientY-n.top}},b=e=>{l=!0,f(e.pageX-o.offsetLeft,e.pageY-o.offsetTop),h()},P=e=>{l&&(f(e.pageX-o.offsetLeft,e.pageY-o.offsetTop,!0),h())},k=()=>{l=!1},B=e=>{l=!0;const t=L(o,e);f(t.x,t.y),h(),e.preventDefault()},C=e=>{if(l){const t=L(o,e);f(t.x,t.y,!0),h()}e.preventDefault()},x=()=>{l=!1};o.addEventListener("mousedown",b);o.addEventListener("mousemove",P);o.addEventListener("mouseup",k);o.addEventListener("touchstart",B,!1);o.addEventListener("touchmove",C,!1);o.addEventListener("touchend",x,!1);g.addEventListener("click",function(){g.href=o.toDataURL(),g.download="drawing.png"},!1);const R=()=>{c.clearRect(0,0,o.width,o.height)},I=()=>o;globalThis.navigator.serviceWorker.register("./sw.js");let m,u;const M=document.getElementById("clear-button"),N=document.getElementById("check-button"),v="https://teachablemachine.withgoogle.com/models/HOoA-AZ1B/";M.addEventListener("click",()=>{w();const e=document.getElementsByClassName("prediction")[0];e.textContent="",R()});const O=async()=>{const e=document.getElementById("loading"),t=v+"model.json",n=v+"metadata.json";return e.innerText="Loading...",m=await tmImage.load(t,n),e.innerText="",m};N.onclick=()=>{const t=I().toDataURL(),n=document.getElementsByClassName("imageToCheck")[0];n.src=t,n.onload=()=>{S(n)},w()};O().then(e=>{console.log("Model loaded successfully!"),window.model=e});const S=async e=>{e.width=200,e.height=200,console.log(e);const t=await m.predict(e);console.log(t),t.forEach(i=>{i.probability>.5&&(u=i.className)}),console.log(u);const n=T(u);console.log(n),A(u)},A=e=>{const t=()=>{new Audio(`./audio/${e}.mp3`).play().catch(i=>console.error("Audio play failed:",i))};typeof window.speechSynthesis<"u"&&window.speechSynthesis.speaking?(window.speechSynthesis.cancel(),setTimeout(t,250)):t()};
